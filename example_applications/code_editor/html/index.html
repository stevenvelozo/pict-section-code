<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>Code Editor - Pict Example</title>
		<!-- PICT Dynamic View CSS Container -->
		<style id="PICT-CSS"></style>
		<!-- Red Rock Mesa Theme â€” Pict Example App -->
		<style>
			*, *::before, *::after { box-sizing: border-box; }
			body { margin: 0; padding: 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif; background: #FAEDCD; color: #264653; }

			/* --- Header Bar --- */
			.pict-example-header { display: flex; align-items: stretch; background: #264653; border-bottom: 3px solid #E76F51; }
			.pict-example-badge { background: #E76F51; color: #fff; padding: 0.6rem 1rem; font-size: 0.7rem; font-weight: 800; text-transform: uppercase; letter-spacing: 0.1em; display: flex; align-items: center; gap: 0.5rem; }
			.pict-example-badge svg { width: 14px; height: 14px; fill: #fff; flex-shrink: 0; }
			.pict-example-app-name { padding: 0.6rem 1rem; color: #FAEDCD; font-size: 1.1rem; font-weight: 600; display: flex; align-items: center; }
			.pict-example-module { margin-left: auto; padding: 0.6rem 1rem; color: #D4A373; font-size: 0.75rem; display: flex; align-items: center; letter-spacing: 0.03em; }

			/* --- Content Area --- */
			.pict-example-content { padding: 1.5rem; }

			/* --- Section Headers --- */
			.pict-example-section-header { color: #264653; font-size: 0.85rem; font-weight: 700; text-transform: uppercase; letter-spacing: 0.06em; margin: 0 0 0.5rem 0; }

			/* --- Toolbar --- */
			.pict-example-actions { margin-bottom: 1rem; display: flex; align-items: center; gap: 6px; flex-wrap: wrap; }
			.pict-example-actions button { background: #264653; color: #FAEDCD; border: none; padding: 0.5rem 1.25rem; border-radius: 4px; font-size: 0.85rem; font-weight: 600; cursor: pointer; }
			.pict-example-actions button:hover { background: #1A3340; }
			.pict-example-actions select { font-family: inherit; font-size: 0.85rem; padding: 0.45rem 0.6rem; border: 1px solid #D4C4A8; border-radius: 4px; background: #FFFCF7; color: #264653; cursor: pointer; }
			.pict-example-actions select:focus { outline: none; border-color: #E76F51; box-shadow: 0 0 0 2px rgba(231,111,81,0.15); }
			.pict-example-actions .separator { width: 1px; height: 20px; background: #D4C4A8; margin: 0 4px; }

			/* --- Code Editor Container --- */
			#CodeEditorContainer { background: #fff; border: 1px solid #D4A373; border-top: 4px solid #E76F51; border-radius: 6px; padding: 1.25rem; box-shadow: 0 2px 8px rgba(38,70,83,0.08); }

			/* --- Code Output --- */
			#CodeOutputWrap { margin-top: 1.5rem; display: none; }
			#CodeOutput { padding: 1rem; background: #fff; border: 1px solid #D4A373; border-radius: 6px; font-family: 'SFMono-Regular', 'SF Mono', 'Menlo', 'Consolas', monospace; font-size: 0.8rem; white-space: pre-wrap; max-height: 200px; overflow: auto; box-shadow: 0 2px 8px rgba(38,70,83,0.08); }
		</style>
		<script src="./codejar.js" type="text/javascript"></script>
		<script src="./pict.min.js" type="text/javascript"></script>
		<script type="text/javascript">
			function changeLanguage(pLanguage)
			{
				if (typeof(_Pict) !== 'undefined' && _Pict.views.ExampleCodeEditorView)
				{
					_Pict.views.ExampleCodeEditorView.setLanguage(pLanguage);
				}
			}
			function getCode()
			{
				if (typeof(_Pict) !== 'undefined' && _Pict.views.ExampleCodeEditorView)
				{
					var tmpCode = _Pict.views.ExampleCodeEditorView.getCode();
					var tmpOutputWrap = document.getElementById('CodeOutputWrap');
					var tmpOutput = document.getElementById('CodeOutput');
					tmpOutputWrap.style.display = 'block';
					tmpOutput.textContent = tmpCode;
				}
			}
			function toggleReadOnly()
			{
				if (typeof(_Pict) !== 'undefined' && _Pict.views.ExampleCodeEditorView)
				{
					var tmpView = _Pict.views.ExampleCodeEditorView;
					tmpView.setReadOnly(!tmpView.options.ReadOnly);
				}
			}
			Pict.safeOnDocumentReady(() => { Pict.safeLoadPictApplication(CodeEditorExample, 1); });
		</script>
	</head>
	<body>
		<div class="pict-example-header">
			<div class="pict-example-badge">
				<svg viewBox="0 0 16 16"><polygon points="8,1 10,6 16,6 11,9.5 13,15 8,11.5 3,15 5,9.5 0,6 6,6"/></svg>
				Pict Example
			</div>
			<div class="pict-example-app-name">Code Editor</div>
			<div class="pict-example-module">pict-section-code</div>
		</div>
		<div class="pict-example-content">
			<div class="pict-example-actions">
				<select onchange="changeLanguage(this.value)">
					<option value="javascript">JavaScript</option>
					<option value="json">JSON</option>
					<option value="html">HTML</option>
					<option value="css">CSS</option>
					<option value="sql">SQL</option>
				</select>
				<span class="separator"></span>
				<button type="button" onclick="getCode()">Get Code</button>
				<button type="button" onclick="toggleReadOnly()">Toggle Read-Only</button>
			</div>
			<h3 class="pict-example-section-header">Code Editor</h3>
			<div id="CodeEditorContainer"></div>
			<div id="CodeOutputWrap">
				<h3 class="pict-example-section-header">Raw Read-Only Code</h3>
				<div id="CodeOutput"></div>
			</div>
		</div>
		<script src="./code_editor_example.min.js" type="text/javascript"></script>
	</body>
</html>
